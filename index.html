<!DOCTYPE html>
<html>
  <head>
    <title>P&C Paradigm</title>
    <script src="jsPsych/jspsych.js"></script>
    <script src="jsPsych/plugins/jspsych-html-keyboard-response.js"></script>
    <script src="jsPsych/plugins/jspsych-image-keyboard-response.js"></script>
    <script src="jsPsych/plugins/jspsych-fullscreen.js"></script>
    <script src="jsPsych/plugins/jspsych-instructions.js"></script>
    <script src="jsPsych/plugins/jspsych-survey-multi-choice.js"></script>
    <script src="jsPsych/plugins/jspsych-survey-text.js"></script>
    <link href="jsPsych/css/jspsych.css" rel="stylesheet" type="text/css">
  </head>
  <body></body>
  <script>

///last changes made by Jordan on 4/20
///////////////////////////////////////////////////////
/* create timeline */

var tl = []; //timeline initialized empty

/////////////////////////////////////////////////////
/* define the welcome & consent information */
var welcome = {
  type: "html-keyboard-response",
  stimulus: "Welcome to our experiment! Please turn off any music or television, and put your phone on silent" +
  "<p>Press any key to begin.</p>"
};
tl.push(welcome);

var consent = {
  type: "html-keyboard-response",
  stimulus: "Info here"
};
tl.push(consent);

tl.push({
  type: 'fullscreen',
  message: '<div class="instructions"><p>Thank you for agreeing to participate.</p><p>Press the button below to begin in full screen mode.</p></div>',
  fullscreen_mode: true
});
    
var fixation = {
  type: 'html-keyboard-response',
  stimulus: '<div class="rsvp">+</div>',
  choices: jsPsych.NO_KEYS,
  trial_duration: 2000}

/////////////////////////////////////////////////////
/* define the SCENARIOS */
var scenario_stimuli1 = ["A person goes to a grocery store. They see an elderly dog lying on its side and ask a clerk how long it has been there. It has been lying there all day.  "];
var scenario_stimuli2 = ["A person and their daighter daughter are shopping in a toy store at the mall. They find a wallet that has money and receipts in it."];
var scenario_stimuli3 = ["The day after a person marries their ex-husband, his previous girlfriend comes to their house and drops off their three-month old son. They didn’t see her again for eleven years and the person became wife and mom. The child was extremely undernourished and has ADHD."];
var scenario_stimuli4 = ["A person’s mom falls and hurts herself badly."];
var scenario_stimuli5 = ["A person gets a call from a friend who is overseas. His nephew is coming over to the States to go to medical school near them."];
var scenario_stimuli7 = ["A person is friends with a woman who wants to pursue an acting career. She is going to pawn this ring that was in her family for years. They don’t want her to pawn the ring."];
var scenario_stimuli8 = ["A person has a bad relationship with his father and has not talked to him for years. He had left their mother. Their mother dies."];
var scenario_stimuli9 = ["A person’s friends and they are going skiing over the Christmas holiday. On their way up they were in a car accident and a small child in another is killed. They feel sorry for the mother."];
var scenario_stimuli10 = ["A person is at an office party and the company has decorated a room for a fancy dinner. At the end of the night their friends say that they can take the candles that are on the table. She doesn’t know that they aren’t supposed to take the candles."];
var scenario_stimuli11 = ["A person’s father becomes a widower and they try to do things for him. He would ask if they were doing okay."];

var scenario_pract1 = ["Possible"];
var scenario_pract2 = ["Possible"];
var scenario_pract3 = ["Possible"];
var scenario_pract4 = ["Possible"];
var scenario_pract5 = ["Possible"];
var scenario_pract6 = ["Impossible"];
var scenario_pract7 = ["Impossible"];
var scenario_pract8 = ["Impossible"];
var scenario_pract9 = ["Impossible"];
var scenario_pract10 = ["Possible"];

/* Adding all the scenarios to an array, we will loop through this array*/
var practice = [scenario_pract1, scenario_pract2, scenario_pract3, scenario_pract4, scenario_pract5, 
scenario_pract6, scenario_pract7, scenario_pract8, scenario_pract9, scenario_pract10]

var scenarios = [scenario_stimuli1, scenario_stimuli2, scenario_stimuli3, scenario_stimuli4, scenario_stimuli5, 
scenario_stimuli7, scenario_stimuli8, scenario_stimuli9, scenario_stimuli10, scenario_stimuli11];

/* define the OPTIONS */

var options1 = jsPsych.randomization.shuffle([
  { option: "Get it some water",  type: 'Ordinary',  correct_response: 'f'},
  { option: "Look around for the owner",  type: 'Ordinary',  correct_response: 'f'},
  { option: "Pet the dog",  type: 'Ordinary',  correct_response: 'f'},
  { option: "Give the dog a treat",  type: 'Ordinary',  correct_response: 'f'},
  { option: "Look at the dog's name tag",  type: 'Ordinary',  correct_response: 'f'},
  { option: "Rescue the dog and bring it home with you",   type: 'Saintly', correct_response: 'f'},
  { option: "Buy and give a dog a dog bed",   type: 'Saintly', correct_response: 'f'},
  { option: "Start an extensive search for the owner",   type: 'Saintly', correct_response: 'f'},
  { option: "Hang lost dog photos all over",   type: 'Saintly', correct_response: 'f'},
  { option: "Pay for a vet appointment",   type: 'Saintly', correct_response: 'f'},
  { option: "Turn back time, so that the dog was young again",   type: 'Impossible', correct_response: 'j'},
  { option: "Clone the dog",   type: 'Impossible', correct_response: 'j'},
  { option: "Give the dog eternal life",   type: 'Impossible', correct_response: 'j'},
  { option: "Instruct the dog in mindfulness meditation",   type: 'Impossible', correct_response: 'j'},
  { option: "Teach the dog to talk",   type: 'Impossible', correct_response: 'j'}
]);

var options2 = jsPsych.randomization.shuffle([
      { option: "Tell a worker about the wallet",  type: 'Ordinary',  correct_response: 'f'},
      { option: "Look around for the owner",  type: 'Ordinary',  correct_response: 'f'},
      { option: "Look through the receipts",  type: 'Ordinary',  correct_response: 'f'},
      { option: "Look for the drivers license",  type: 'Ordinary',  correct_response: 'f'},
      { option: "Figure out the wallet's brand",  type: 'Ordinary',  correct_response: 'f'},
      { option: "Drive to the owner's house ",   type: 'Saintly', correct_response: 'f'},
      { option: "Search each store in the mall",   type: 'Saintly', correct_response: 'f'},
      { option: "Put $1000 into the wallet",   type: 'Saintly', correct_response: 'f'},
      { option: "Start making overhead announcements",   type: 'Saintly', correct_response: 'f'},
      { option: "Ask all passersby",   type: 'Saintly', correct_response: 'f'},
      { option: "Use telekinsesis to return the wallet",   type: 'Impossible', correct_response: 'j'},
      { option: "Use their &quot;sixth sense&quot;",   type: 'Impossible', correct_response: 'j'},
      { option: "Give the wallet sentience",   type: 'Impossible', correct_response: 'j'},
      { option: "Travel back in time",   type: 'Impossible', correct_response: 'j'},
      { option: "Gain dog-like sniffing abilities",   type: 'Impossible', correct_response: 'j'}]);

var options3 = jsPsych.randomization.shuffle([
      { option: "Talk to the child",  type: 'Ordinary',  correct_response: 'f'},
      { option: "Feed the child",  type: 'Ordinary',  correct_response: 'f'},
      { option: "Take the weight of the child",  type: 'Ordinary',  correct_response: 'f'},
      { option: "Call the child's mom",  type: 'Ordinary',  correct_response: 'f'},
      { option: "Read a story to the child",  type: 'Ordinary',  correct_response: 'f'},
      { option: "Adopt the child",   type: 'Saintly', correct_response: 'f'},
      { option: "Start a college fund",   type: 'Saintly', correct_response: 'f'},
      { option: "Add the child to your will",   type: 'Saintly', correct_response: 'f'},
      { option: "Adopt another child as well",   type: 'Saintly', correct_response: 'f'},
      { option: "Abandon career to devote time to child",   type: 'Saintly', correct_response: 'f'},
      { option: "Clone the child",   type: 'Impossible', correct_response: 'j'},
      { option: "Cure the child's ADHD",   type: 'Impossible', correct_response: 'j'},
      { option: "Travel to the future",   type: 'Impossible', correct_response: 'j'},
      { option: "Create a magical supply of food",   type: 'Impossible', correct_response: 'j'},
      { option: "Change the child's memories",   type: 'Impossible', correct_response: 'j'}]);

var options4 = jsPsych.randomization.shuffle([
      { option: "Sned a get well soon card",  type: 'Ordinary',  correct_response: 'f'},
      { option: "Send her flowers",  type: 'Ordinary',  correct_response: 'f'},
      { option: "Call her to check on her",  type: 'Ordinary',  correct_response: 'f'},
      { option: "Visit her in the hospital",  type: 'Ordinary',  correct_response: 'f'},
      { option: "Arrange for a nurse",  type: 'Ordinary',  correct_response: 'f'},
      { option: "Pay for ther medical expenses",   type: 'Saintly', correct_response: 'f'},
      { option: "Quit my job to care for her",   type: 'Saintly', correct_response: 'f'},
      { option: "Bring her to live in their home",   type: 'Saintly', correct_response: 'f'},
      { option: "Buy a new house for her",   type: 'Saintly', correct_response: 'f'},
      { option: "Donate an organ to her",   type: 'Saintly', correct_response: 'f'},
      { option: "Brew a potion to instantly heal her",   type: 'Impossible', correct_response: 'j'},
      { option: "Cast a spell to fix her pain",   type: 'Impossible', correct_response: 'j'},
      { option: "Travel to the future",   type: 'Impossible', correct_response: 'j'},
      { option: "Build a conscious robot to aid her",   type: 'Impossible', correct_response: 'j'},
      { option: "Give her an elixir that fixes her DNA",   type: 'Impossible', correct_response: 'j'}]);

var options5 = jsPsych.randomization.shuffle([
      { option: "Drive to the airport",  type: 'Ordinary',  correct_response: 'f'},
      { option: "Take a few days off work",  type: 'Ordinary',  correct_response: 'f'},
      { option: "Gave him their phone number",  type: 'Ordinary',  correct_response: 'f'},
      { option: "Invite him for dinner",  type: 'Ordinary',  correct_response: 'f'},
      { option: "Introduce him to their friends",  type: 'Ordinary',  correct_response: 'f'},
      { option: "Buy a house for him",   type: 'Saintly', correct_response: 'f'},
      { option: "Pay for med school for him",   type: 'Saintly', correct_response: 'f'},
      { option: "Buy him a luxury car",   type: 'Saintly', correct_response: 'f'},
      { option: "Send him a daily care package",   type: 'Saintly', correct_response: 'f'},
      { option: "Hire him a tutor",   type: 'Saintly', correct_response: 'f'},
      { option: "Make someone fall in love with him",   type: 'Impossible', correct_response: 'j'},
      { option: "Give him superhuman intelligence",   type: 'Impossible', correct_response: 'j'},
      { option: "Buy him a teleportation device",   type: 'Impossible', correct_response: 'j'},
      { option: "Invent a VR surgery simulator",   type: 'Impossible', correct_response: 'j'},
      { option: "Cast a knowledge spell on him",   type: 'Impossible', correct_response: 'j'}]);

var options7 = jsPsych.randomization.shuffle([
      { option: "Tell her not to pawn it",  type: 'Ordinary',  correct_response: 'f'},
      { option: "Gift her a book on acting",  type: 'Ordinary',  correct_response: 'f'},
      { option: "Connect her with a theater friend",  type: 'Ordinary',  correct_response: 'f'},
      { option: "Lend her some money",  type: 'Ordinary',  correct_response: 'f'},
      { option: "Give her a pep talk",  type: 'Ordinary',  correct_response: 'f'},
      { option: "Help her get many auditions",   type: 'Saintly', correct_response: 'f'},
      { option: "Give her their credit card",   type: 'Saintly', correct_response: 'f'},
      { option: "Invest in a movie",   type: 'Saintly', correct_response: 'f'},
      { option: "Pawn their own valuables instead",   type: 'Saintly', correct_response: 'f'},
      { option: "Pay for professional acting lessons",   type: 'Saintly', correct_response: 'f'},
      { option: "Perform magic to get a role",   type: 'Impossible', correct_response: 'j'},
      { option: "Magically recreate the ring",   type: 'Impossible', correct_response: 'j'},
      { option: "Use psychic energy to win the lottery",   type: 'Impossible', correct_response: 'j'},
      { option: "Instantly become a director overnight",   type: 'Impossible', correct_response: 'j'},
      { option: "Copy a famous actor's brain chemistry",   type: 'Impossible', correct_response: 'j'}]);

var options8 = jsPsych.randomization.shuffle([
      { option: "Send him a short letter",  type: 'Ordinary',  correct_response: 'f'},
      { option: "Send a text message",  type: 'Ordinary',  correct_response: 'f'},
      { option: "Send over some flowersr",  type: 'Ordinary',  correct_response: 'f'},
      { option: "Tell him they forgive him",  type: 'Ordinary',  correct_response: 'f'},
      { option: "Make him a photo album",  type: 'Ordinary',  correct_response: 'f'},
      { option: "Go to tell him I love him",   type: 'Saintly', correct_response: 'f'},
      { option: "Pay for his flight",   type: 'Saintly', correct_response: 'f'},
      { option: "Convince him to live with us",   type: 'Saintly', correct_response: 'f'},
      { option: "Get him a companion dog",   type: 'Saintly', correct_response: 'f'},
      { option: "Look for a new partner for him",   type: 'Saintly', correct_response: 'f'},
      { option: "Turn back time",   type: 'Impossible', correct_response: 'j'},
      { option: "Bring mom back from the death",   type: 'Impossible', correct_response: 'j'},
      { option: "Do a seance",   type: 'Impossible', correct_response: 'j'},
      { option: "Place him into an alternate timeline",   type: 'Impossible', correct_response: 'j'},
      { option: "Clone mom to marry him",   type: 'Impossible', correct_response: 'j'}]);

var options9 = jsPsych.randomization.shuffle([
      { option: "Go to the funeral",  type: 'Ordinary',  correct_response: 'f'},
      { option: "Sit with the mom",  type: 'Ordinary',  correct_response: 'f'},
      { option: "Dial 911",  type: 'Ordinary',  correct_response: 'f'},
      { option: "Keep in contact with her",  type: 'Ordinary',  correct_response: 'f'},
      { option: "Send some flowers to her home",  type: 'Ordinary',  correct_response: 'f'},
      { option: "Perform CPR on the child",   type: 'Saintly', correct_response: 'f'},
      { option: "Free her with their bare hands",   type: 'Saintly', correct_response: 'f'},
      { option: "Pay for all her expenses",   type: 'Saintly', correct_response: 'f'},
      { option: "Set up a crowdfunding action",   type: 'Saintly', correct_response: 'f'},
      { option: "Invite her to all your Christmasses",   type: 'Saintly', correct_response: 'f'},
      { option: "Pray until the kid comes back to life",   type: 'Impossible', correct_response: 'j'},
      { option: "Clone the kid",   type: 'Impossible', correct_response: 'j'},
      { option: "Go back in time",   type: 'Impossible', correct_response: 'j'},
      { option: "Reverse their age",   type: 'Impossible', correct_response: 'j'},
      { option: "Create an alternate timeline",   type: 'Impossible', correct_response: 'j'}]);

var options10 = jsPsych.randomization.shuffle([
      { option: "Apologize",  type: 'Ordinary',  correct_response: 'f'},
      { option: "Return them",  type: 'Ordinary',  correct_response: 'f'},
      { option: "Send a sorry card",  type: 'Ordinary',  correct_response: 'f'},
      { option: "Bring some new candles",  type: 'Ordinary',  correct_response: 'f'},
      { option: "Pay for the candles",  type: 'Ordinary',  correct_response: 'f'},
      { option: "Bring hundreds more candles",   type: 'Saintly', correct_response: 'f'},
      { option: "Write a big check",   type: 'Saintly', correct_response: 'f'},
      { option: "Go a month without salary",   type: 'Saintly', correct_response: 'f'},
      { option: "Make some new candles",   type: 'Saintly', correct_response: 'f'},
      { option: "Organize an entire new party",   type: 'Saintly', correct_response: 'f'},
      { option: "Change matter to unburn the candles",   type: 'Impossible', correct_response: 'j'},
      { option: "Turn back time",   type: 'Impossible', correct_response: 'j'},
      { option: "Invent candles that don't melt instantly",   type: 'Impossible', correct_response: 'j'},
      { option: "Guarentee profit by seeing the future",   type: 'Impossible', correct_response: 'j'},
      { option: "Charm the candles with magic",   type: 'Impossible', correct_response: 'j'}]);

var options11 = jsPsych.randomization.shuffle([
      { option: "Tell him the truth",  type: 'Ordinary',  correct_response: 'f'},
      { option: "Tell a white lie",  type: 'Ordinary',  correct_response: 'f'},
      { option: "Make him laugh",  type: 'Ordinary',  correct_response: 'f'},
      { option: "Cheer him up",  type: 'Ordinary',  correct_response: 'f'},
      { option: "Tell him not to worry",  type: 'Ordinary',  correct_response: 'f'},
      { option: "Find hima new girlfriend",   type: 'Saintly', correct_response: 'f'},
      { option: "Change careers",   type: 'Saintly', correct_response: 'f'},
      { option: "Get therapy",   type: 'Saintly', correct_response: 'f'},
      { option: "Get him a grandchild",   type: 'Saintly', correct_response: 'f'},
      { option: "Try to better their life",   type: 'Saintly', correct_response: 'f'},
      { option: "Bring mom back to life",   type: 'Impossible', correct_response: 'j'},
      { option: "Build a sentient mom robot",   type: 'Impossible', correct_response: 'j'},
      { option: "Cast a weekly anti-loneliness spell",   type: 'Impossible', correct_response: 'j'},
      { option: "Give him my own happiness",   type: 'Impossible', correct_response: 'j'},
      { option: "Reverse aging every week",   type: 'Impossible', correct_response: 'j'}]);

var timepressure = jsPsych.randomization.sampleWithoutReplacement([0, 1], 1);
console.log('timepressure: '+timepressure)

/* Add all options-arrays to yet another array */
/* By doing this we have an ordered array containing all the scenarios, as well as an array containing all the options ordered like the scenarios*/
/* TODO add in all the remaining options */
var options = [options1, options2, options3, options4, options5,
 options7, options8, options9, options10, options11]

/* Creating a list of shuffled numbers, we will use this list to ensure scenarios and options are randomized in the same way*/
/* Essentially, we will randomize this list and access our scenarios & options through this list */
/* Note that this list should have the same length as the "scenarios" variable*/
var shuffledList = jsPsych.randomization.shuffle([0,1])
console.log('shuffledList: '+shuffledList)

/////////////////////////////////////////////////////
/* define instruction information */
var gen_instructions_NOTIME = {
  type: "html-keyboard-response",
  stimulus: "<p>You will now begin the experiment.</p>" + 
     "<p>The experiment consists of different blocks.</p>" +
     "<p>In each block, you will first be confronted with a specific scenario and subsequently, with several possible responses to that scenario.</p>" +
     "<p>We'd like you to tell us whether these different responses are either a possible or an impossible response to the situation described in the scenario.</p>" +
     "<p>To indicate that something is possible, press the <b>[f]</b> key; to indicate that something is NOT possible, please press the <b>[j]</b> key.</p>" +
     "<p><b>There is no timelimit for this task, so please carefully deliberate on the possibility of each response.</b></p>" +
     "<p>***Please pay attention!***</p>" + 
     "<p>Before starting the main experiment we will first start with a warm-up session.</p>" + 
     "<p>Press any key to continue.</p>",
  choices: jsPsych.ANY_KEYS
  };


var gen_instructions_TIME = {
  type: "html-keyboard-response",
  stimulus: "<p>You will now begin the experiment.</p>" + 
     "<p>The experiment consists of different blocks.</p>" +
     "<p>In each block, you will first be confronted with a specific scenario and subsequently, with several possible responses to that scenario.</p>" +
     "<p>We'd like you to tell us whether these different responses are either a possible or an impossible response to the situation described in the scenario.</p>" +
     "<p>To indicate that it is true that something is possible, press the <b>[f]</b> key; to indicate that something is NOT possible, please press the <b>[j]</b> key.</p>" +
     "<p><b>You will have to make these decisions under time pressure and will have to respond very quickly </b>.</p>" +
     "<p>***Please pay attention!***</p>" + 
     "<p>Before starting the main experiment we will first start with a warm-up session.</p>" + 
     "<p>Press any key to continue.</p>",
  choices: jsPsych.ANY_KEYS
  };


var prac_instructions = {
  type: "html-keyboard-response",
  stimulus: "We will now begin the warm-up phase." +
  "<p>On these trials, press [f] if you see the word 'Possible' and [j] if you see the word 'Impossible'</p>"+
  "<p>Press any key to continue.</p>", 
  choices: jsPsych.ANY_KEYS
  }; 

var task_instructions = {
  type: "html-keyboard-response",
  stimulus: "Great! We will now being the main task. You will first see a scenario to read and then will be judging whether different actions are possible (f key) or impossible (j key)."+
  "<p>***Please answer as accurately as you possibly can.***</p>"+
  "<p>Press any key to continue.</p>",
  choices: jsPsych.ANY_KEYS
  };

var read_instructions = {
  type: "html-keyboard-response",
  stimulus: "Please read the following scenario. The scenario will be displayed for 5 seconds."+
  "<p>Press any key to continue.</p>",
  choices: jsPsych.ANY_KEYS
};

var scen_instructions = {
  type: "html-keyboard-response",
  stimulus: "Given the scenario you just read, please tell us whether it is possible or impossible to do the following actions." +
  "<p> Press any key when you are ready to begin.</p>",
  choices: jsPsych.ANY_KEYS
};

var interim_block = {
  type: "html-keyboard-response",
  stimulus: "Great! You have completed a block." +
  "<p> Press any key begin the next block.</p>",
  choices: jsPsych.ANY_KEYS
};

/////////////////////////////////////////////////////
/* define survey information */
// havent added any individual diff measures yet

var NFCq = ["Extremely uncharacteristic", "Somewhat uncharacteristic", "Uncertain", "Somewhat characteristic", "Extremely characteristic"];
var TAq = ["Strongly disagree", "Disagree", "Somewhat disagree", "Neither agree nor disagree", "Somewhat agree", "Agree", "Strongly agree"];
var CCq = ["Strongly disagree", "Disagree", "Somewhat disagree", "Neither agree nor disagree", "Somewhat agree", "Agree", "Strongly agree"];
var Genderq = ["Man", "Woman", "Non-binary", "Other", "Prefer not to answer"];
var PolIDq = ["Extremely Liberal", " ", " ", " Neither", " ", " ", "Extremely Conservative"];
var Relq = ["Not at all Religious", " ", " ", " ", " ", " ", "Extremely Religious"];
var Incomeq = ["Less than $10,000 USD a year", "$10,000 - $20,000 USD", "$20,000-$40,000 USD", "$40,000-$60,000 USD", "$60,000-$80,000 USD", "$80,000-$100,000 USD", "$100,000 USD a year or more"];
var Raceq = ["White, not hispanic or latinx", "Black or African American", "Asian", "American Indian or Alaska Native", "Native Hawaiian or Other Pacific Islander", "Hispanic or Latinx", "Two or more", "Not listed"];
var Demand1q = ["Not at all", " ", " ", " ", "Very much so"];
var compTypeq = ["Laptop/Desktop", "Ipad/Tablet", "Other"];

var NFC = {
            type: 'survey-multi-choice',
            questions: [
                {prompt: '<p style="text-align: left;font-size:20px;">I would prefer complex to simple problems.</p>', options: NFCq, required: true, horizontal: true,}, 
                {prompt: '<p style="text-align: left;font-size:20px;">I like to have the responsibility of handling a situation that requires a lot of thinking.</p>', options: NFCq, required: true, horizontal: true},
                {prompt: '<p style="text-align: left;font-size:20px;">Thinking is not my idea of fun.</p>', options: NFCq, required: true, horizontal: true,}, 
                {prompt: '<p style="text-align: left;font-size:20px;">I would rather do something that requires little thought than something that is sure to challenge my thinking abilities.</p>', options: NFCq, required: true, horizontal: true},
                {prompt: '<p style="text-align: left;font-size:20px;">I try to anticipate and avoid situations where there is a likely chance I will have to think in depth about something.</p>', options: NFCq, required: true, horizontal: true,}, 
                {prompt: '<p style="text-align: left;font-size:20px;">I find satisfaction in deliberating hard and for long hours.</p>', options: NFCq, required: true, horizontal: true},
                {prompt: '<p style="text-align: left;font-size:20px;">I only think as hard as one has to.</p>', options: NFCq, required: true, horizontal: true},
                {prompt: '<p style="text-align: left;font-size:20px;">I prefer to think about small, daily projects to long-term ones.</p>', options: NFCq, required: true, horizontal: true},
                {prompt: '<p style="text-align: left;font-size:20px;">I like tasks that require little thought once Ive learned them.</p>', options: NFCq, required: true, horizontal: true},
                {prompt: '<p style="text-align: left;font-size:20px;">The idea of relying on thought to make my way to the top appeals to me.</p>', options: NFCq, required: true, horizontal: true},
                {prompt: '<p style="text-align: left;font-size:20px;">I really enjoy a task that involves coming up with new solutions to problems.</p>', options: NFCq, required: true, horizontal: true},
                {prompt: '<p style="text-align: left;font-size:20px;">Learning new ways to think doesnt excite me very much. </p>', options: NFCq, required: true, horizontal: true},
                {prompt: '<p style="text-align: left;font-size:20px;">I prefer my life to be filled with puzzles that I must solve.</p>', options: NFCq, required: true, horizontal: true},
                {prompt: '<p style="text-align: left;font-size:20px;">The notion of thinking abstractly is appealing to me.</p>', options: NFCq, required: true, horizontal: true},
                {prompt: '<p style="text-align: left;font-size:20px;">I would prefer a task that is intellectual, difficult, and important to one than is somewhat important but does not require much thought.</p>', options: NFCq, required: true, horizontal: true},
                {prompt: '<p style="text-align: left;font-size:20px;">I feel relief rather than satisfaction after completing a task that required a lot of mental effort.</p>', options: NFCq, required: true, horizontal: true},
                {prompt: '<p style="text-align: left;font-size:20px;">Its enough for me that something gets the job done. I dont care how or why it works.</p>', options: NFCq, required: true, horizontal: true},
                {prompt: '<p style="text-align: left;font-size:20px;">I usually end up deliberating about issues even when they do not affect me personally.</p>', options: NFCq, required: true, horizontal: true}
            ],
            randomize_question_order: true,
            preamble: 'Please indicate how much you agree with each of the following statements, or how true it is about you using the scale provided:'
            };

var TA = {
            type: 'survey-multi-choice',
            questions: [
                {prompt: '<p style="text-align: left;font-size:20px;">I don’t tolerate ambiguous situations well.</p>', options: TAq, required: true, horizontal: true,}, 
                {prompt: '<p style="text-align: left;font-size:20px;">I would rather avoid solving a problem that must be viewed from several different perspectives.</p>', options: TAq, required: true, horizontal: true},
                {prompt: '<p style="text-align: left;font-size:20px;">I try to avoid situations that are ambiguous.</p>', options: TAq, required: true, horizontal: true,}, 
                {prompt: '<p style="text-align: left;font-size:20px;">I prefer familiar situations to new ones.</p>', options: TAq, required: true, horizontal: true},
                {prompt: '<p style="text-align: left;font-size:20px;">Problems that cannot be considered from just one point of view are a little threatening.</p>', options: TAq, required: true, horizontal: true,}, 
                {prompt: '<p style="text-align: left;font-size:20px;">I avoid situations that are too complicated for me to easily understand.</p>', options: TAq, required: true, horizontal: true},
                {prompt: '<p style="text-align: left;font-size:20px;">I am tolerant of ambiguous situations.</p>', options: TAq, required: true, horizontal: true},
                {prompt: '<p style="text-align: left;font-size:20px;">I enjoy tackling problems that are complex enough to be ambiguous.</p>', options: TAq, required: true, horizontal: true},
                {prompt: '<p style="text-align: left;font-size:20px;">I try to avoid problems that don’t seem to have only one “best” solution.</p>', options: TAq, required: true, horizontal: true},
                {prompt: '<p style="text-align: left;font-size:20px;">I generally prefer novelty over familiarity.</p>', options: TAq, required: true, horizontal: true},
                {prompt: '<p style="text-align: left;font-size:20px;">I dislike ambiguous situations.</p>', options: TAq, required: true, horizontal: true},
                {prompt: '<p style="text-align: left;font-size:20px;">I find it hard to make a choice when the outcome is uncertain.</p>', options: TAq, required: true, horizontal: true},
                {prompt: '<p style="text-align: left;font-size:20px;">I prefer a situation in which there is some ambiguity.</p>', options: TAq, required: true, horizontal: true}
            ],
            randomize_question_order: true,
            preamble: 'Please indicate how much you agree with each of the following statements, or how true it is about you using the scale provided:'
            };

var CC = {
            type: 'survey-multi-choice',
            questions: [
                {prompt: '<p style="text-align: left;font-size:20px;">I find effective solutions by combining multiple ideas.</p>', options: CCq, required: true, horizontal: true,}, 
                {prompt: '<p style="text-align: left;font-size:20px;">While working on something, I try to generate as many ideas as possible.</p>', options: CCq, required: true, horizontal: true},
                {prompt: '<p style="text-align: left;font-size:20px;">I try to act out potential solutions to explore their effectiveness.</p>', options: CCq, required: true, horizontal: true,}, 
                {prompt: '<p style="text-align: left;font-size:20px;">If I get stuck on a problem, I try to take a different perspective of the situation.</p>', options: CCq, required: true, horizontal: true},
                {prompt: '<p style="text-align: left;font-size:20px;">Incorporating previous solutions in new ways leads to good ideas.</p>', options: CCq, required: true, horizontal: true,}            ],
            randomize_question_order: true,
            preamble: 'Please indicate how much you agree with each of the following statements, or how true it is about you using the scale provided:'
            };

var demo_Age = {
        type: 'survey-text',
        questions: [
        {prompt: 'How old are you?', columns: 3, required: true, name: 'Age'},
        {prompt: 'What is your religious affiliation?', columns: 50, name: 'Religious Affiliation'}
        ],
        randomize_question_order: true
        };

var demo_gen = {
        type: 'survey-multi-choice',
        questions: [
            {prompt: '<p style="text-align: left;font-size:20px;">What is your Gender?</p>', options: Genderq, required: true, horizontal: true,}, 
            {prompt: '<p style="text-align: left;font-size:20px;">Which of the following items BEST describes your ethnic or racial background?</p>', options: Raceq, required: true, horizontal: true},
            {prompt: '<p style="text-align: left;font-size:20px;">How religious would you consider yourself?</p>', options: Relq, required: true, horizontal: true,}, 
            {prompt: '<p style="text-align: left;font-size:20px;">What is your household income?</p>', options: Incomeq, required: true, horizontal: true}
          ],
        randomize_question_order: true,
        preamble: '<p style="text-align: left;font-size:28px;"Using the scales provided, please respond to each question about you as an individual.</p>'
        };

var demo_PolIQ = {
        type: 'survey-multi-choice',
        questions: [
            {prompt: '<p style="text-align: left;font-size:20px;">Which response best captures your political beliefs surrounding economic issues?</p>', options: PolIDq, required: true, horizontal: true,}, 
            {prompt: '<p style="text-align: left;font-size:20px;">Which response best captures your political beliefs surrounding social issues?</p>', options: PolIDq, required: true, horizontal: true},
            {prompt: '<p style="text-align: left;font-size:20px;">When it comes to overall political issues, you consider yourself to be a:</p>', options: PolIDq, required: true, horizontal: true,}
        ],
        randomize_question_order: true,
        preamble: '<p style="text-align: left;font-size:28px;"Please answer the following questions about your political ideology.</p>'
        };

var demo_FinalQs = {
        type: 'survey-multi-choice',
        questions: [
            {prompt: '<p style="text-align: left;font-size:20px;">What kind of device did you use to complete this study?</p>', options: compTypeq, required: true, horizontal: true,}, 
            {prompt: '<p style="text-align: left;font-size:20px;">Did you feel pressure to respond in a particular way to any of the questions?</p>', options: Demand1q, required: true, horizontal: true,}, 
            {prompt: '<p style="text-align: left;font-size:20px;">Did you feel as though you might be judged for your responses to the questions you answered.</p>', options: Demand1q, required: true, horizontal: true}        
          ],
        randomize_question_order: true,
        preamble: '<p style="text-align: left;font-size:28px;"For these final questions, please answer as honestly as you can! The answers to these questions will not affect whether or not you receive credit/payment for participation!</p>'
        };


////////////////////////////////////////////////////////////////
/* define the procedure & order */
/* determine which instuctions to show based on the timepressure variable*/
if (timepressure == 0){
  tl.push(gen_instructions_NOTIME);
}

if (timepressure == 1){
  tl.push(gen_instructions_TIME);
}

tl.push(prac_instructions);
/* Running the warm-up trials */
/* Again depending on timepressure */

for (var i = 0; i < practice.length; i++){
  /* Show a warm-up trial */
  /* Which type depends on timepressure */
  if (timepressure == 0){
    var display_warmup = {
                type: "html-keyboard-response",
                prompt: "<p style='text-align:bottom'>Press <b>[f]</b> for possible, press <b>[j]</b> for impossible.</p>",
                choices: ['f','j'],
                stimulus: practice[i], //jsPsych.timelineVariable("stimulus"),
                post_trial_gap: 1000,
    }
  }
  if (timepressure == 1){
    var display_warmup = {
                type: "html-keyboard-response",
                prompt: "<p style='text-align:bottom'>Press <b>[f]</b> for possible, press <b>[j]</b> for impossible.</p>",
                choices: ['f','j'],
                stimulus: practice[i], //jsPsych.timelineVariable("stimulus"),
                trial_duration: 1500,
                post_trial_gap: 1000,
    }
  } 
  tl.push(display_warmup);
}


tl.push(task_instructions);
tl.push(read_instructions);
/* Looping through all the scenarios */
    /* Because we are indexing scenarios through shuffled list, the order is randomized */

    for (var i = 0; i < shuffledList.length; i++){
            /* Show a random scenario */
            var display_scenarios = {
                type: "html-keyboard-response",
                stimulus: scenarios[shuffledList[i]], //jsPsych.timelineVariable("stimulus"),
                choices: jsPsych.NO_KEYS,
                trial_duration: 5000
            }
            tl.push(display_scenarios);

            /*Display the scenario instructions*/
            tl.push(scen_instructions)
            
            /*Looping through the options */
            /* Because we are indexing the options through shuffled list, the correct options per scenario are displayed */
            /* Pick a version based on timepressure */
            if (timepressure == 0){
              for (var j = 0; j < options[i].length; j++){
                  var display_options = {
                      type: 'html-keyboard-response',
                      prompt: "<p style='text-align:bottom'>Press <b>[f]</b> for possible, press <b>[j]</b> for impossible.</p>",
                      choices: ['f','j'],
                      post_trial_gap: 1000,
                      stimulus: options[shuffledList[i]][j].option,
                      data: {test_part: 'response', correct_response: jsPsych.timelineVariable('correct_response')}
                  };
                  tl.push(display_options)
              }
            }
            if (timepressure == 1){
              for (var j = 0; j < options[i].length; j++){
                  var display_options = {
                      type: 'html-keyboard-response',
                      prompt: "<p style='text-align:bottom'>Press <b>[f]</b> for possible, press <b>[j]</b> for impossible.</p>",
                      choices: ['f','j'],
                      trial_duration: 1500,
                      post_trial_gap: 1000,
                      stimulus: options[shuffledList[i]][j].option,
                      data: {test_part: 'response', correct_response: jsPsych.timelineVariable('correct_response')}
                  };
                  tl.push(display_options)
              }
            }
            /* We probably want to display something in between scenarios to "reset" the block, we can put that here */
            if (i < shuffledList.length -1){
              tl.push(interim_block)
          }
        };

tl.push(NFC);
tl.push(TA);
tl.push(CC);
tl.push(demo_Age);
tl.push(demo_gen);
tl.push(demo_PolIQ);
tl.push(demo_FinalQs);

////////////////////////////////////////////////////////////////
///* define debrief */

var debrief = {
      type: "html-keyboard-response",
      stimulus: "<p>Thank you for your participation!</p>" + 
      "<p>Some things.",
      post_trial_gap: 2000
    };
    tl.push(debrief);

////////////////////////////////////////////////////////////////
/* start the experiment */
jsPsych.init({
  timeline: tl
});
</script>
<<<<<<< HEAD
</html>
=======
</html>
</html>
>>>>>>> 136d80279c0ae6a89f8126f46b299ceff6b6e746
